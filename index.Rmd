---
title: "Portfolio by Thomas Hubert"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
date: "2024-02-21"
---

### Introduction

Welcome to my Portfolio! This is where I will display my findings during the course 'Computational Musicology' at the UvA.Feel free to look around and ask me any questions :)

-Info-
Thomas Hubert
SNUM: 14642271
Email: thomas.hubert@student.uva.nl

Bon dia bon dia bon dia check check mic check

### Visuals

#### Similar Energy Levels Between Classical & Film Music

In the graph below you can see an analysis of the energy levels when comparing two playlists of classical music and of film music. You can see that there indeed appears to be a very similar distribution of energy levels across both genres, you may also be able to see that they similarly have a lot of tracks considered "low" in energy and relatively little considered "high" in energy.

```{r}
library(tidyverse)
library(spotifyr)
library(compmus)

ClassicalMusic <- get_playlist_audio_features("", "27Zm1P410dPfedsdoO9fqm")
FilmMusic <- get_playlist_audio_features("", "3FUHkTsK7xNOqrHOXVHRF4")

awards <-
  bind_rows(
    ClassicalMusic |> mutate(category = "Classical Music"),
    FilmMusic |> mutate(category = "Film Music")
  )

awards |>
  ggplot(aes(x = energy)) +
  geom_histogram(binwidth = 0.1) +
  facet_wrap(~category)

```

#### Comparing Hans Zimmer - Time & Wolfgang Amadeus Mozart - Eine kleine Nachtmusik K.525

In the following two graphs I compare the very famous movie theme 'Time' by Hans Zimmer from the movie Inception, against the classical music piece Eine Kleine Nachtmusik (K.525) by Wolfgang Amadeus Mozart. Both of these pieces are in the key of G-major, but you can clearly see a difference in their song structure. Both pieces are around ~5 minutes in length, but whereas Zimmer tends to hold the listener in a state of harmonic suspense (Many of the notes are repeated over and over), Mozart displays are more classical from of song structure by clearly switching between chords (note the clear distinction of notes in the graph)

*DISCLAIMER*
I'm not sure why it's printing the second graph smaller?

```{r}
library(tidyverse)
library(spotifyr)
library(compmus)

#Drawing A Graph For Hans Zimmer
zimmer <-
  get_tidy_audio_analysis("6ZFbXIJkuI1dVNWvzJzown") |>
  select(segments) |>
  unnest(segments) |>
  select(start, duration, pitches)

zimmer |>
  mutate(pitches = map(pitches, compmus_normalise, "euclidean")) |>
  compmus_gather_chroma() |> 
  ggplot(
    aes(
      x = start + duration / 2,
      width = duration,
      y = pitch_class,
      fill = value
    )
  ) +
  geom_tile() +
  labs(x = "Time (s)", y = NULL, fill = "Magnitude") +
  theme_minimal() +
  scale_fill_viridis_c()
```

```{r}

#Drawing A Graph For Mozart
mozart <-
  get_tidy_audio_analysis("4KLVPRo0f6XUJa4t4dnRW6") |>
  select(segments) |>
  unnest(segments) |>
  select(start, duration, pitches)

mozart |>
  mutate(pitches = map(pitches, compmus_normalise, "euclidean")) |>
  compmus_gather_chroma() |> 
  ggplot(
    aes(
      x = start + duration / 2,
      width = duration,
      y = pitch_class,
      fill = value
    )
  ) +
  geom_tile() +
  labs(x = "Time (s)", y = NULL, fill = "Magnitude") +
  theme_minimal() +
  scale_fill_viridis_c()

```

#### Comparing Song Sections

Here we can see again how Hans Zimmer doesn't really have a clearly defined song structure, whereas Mozart does seem to do this. Eventhough they use the same musical key.

Hans Zimmer
```{r}

bztH <-
  get_tidy_audio_analysis("6ZFbXIJkuI1dVNWvzJzown") |> # Change URI.
  compmus_align(bars, segments) |>                     # Change `bars`
  select(bars) |>                                      #   in all three
  unnest(bars) |>                                      #   of these lines.
  mutate(
    pitches =
      map(segments,
        compmus_summarise, pitches,
        method = "rms", norm = "euclidean"              # Change summary & norm.
      )
  ) |>
  mutate(
    timbre =
      map(segments,
        compmus_summarise, timbre,
        method = "rms", norm = "euclidean"              # Change summary & norm.
      )
  )

bztH |>
  compmus_self_similarity(timbre, "cosine") |> 
  ggplot(
    aes(
      x = xstart + xduration / 2,
      width = xduration,
      y = ystart + yduration / 2,
      height = yduration,
      fill = d
    )
  ) +
  geom_tile() +
  coord_fixed() +
  scale_fill_viridis_c(guide = "none") +
  theme_classic() +
  labs(x = "", y = "")

```


Mozart
```{r}

bztM <-
  get_tidy_audio_analysis("4KLVPRo0f6XUJa4t4dnRW6") |> # Change URI.
  compmus_align(bars, segments) |>                     # Change `bars`
  select(bars) |>                                      #   in all three
  unnest(bars) |>                                      #   of these lines.
  mutate(
    pitches =
      map(segments,
        compmus_summarise, pitches,
        method = "rms", norm = "euclidean"              # Change summary & norm.
      )
  ) |>
  mutate(
    timbre =
      map(segments,
        compmus_summarise, timbre,
        method = "rms", norm = "euclidean"              # Change summary & norm.
      )
  )

bztM |>
  compmus_self_similarity(timbre, "cosine") |> 
  ggplot(
    aes(
      x = xstart + xduration / 2,
      width = xduration,
      y = ystart + yduration / 2,
      height = yduration,
      fill = d
    )
  ) +
  geom_tile() +
  coord_fixed() +
  scale_fill_viridis_c(guide = "none") +
  theme_classic() +
  labs(x = "", y = "")

```


***
Data sourced from SPOTIFY URI.

### Conclusion

This page will list my conclusions. As I am currently still in the exploratory stage of this program, I do not have any definite conclusions yet.
